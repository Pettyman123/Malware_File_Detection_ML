from flask import Flask, request, render_template
import joblib
import pandas as pd
from sklearn.preprocessing import StandardScaler

app = Flask(__name__)

# Loading the trained model from train.py which we saved

model = joblib.load('models/malware_detection_ML.pkl')
scaler = StandardScaler()

@app.route('/')

def home():
    return render_template('index.html')

@app.route('/upload', methods = ['POST'])
def upload_file():
    file = request.files['file']
    features = pd.read_csv()
    scaled_features = scaler.transform(features)

    prediction = model.predict(scaled_features)
    result = 'Malicious' if prediction[0] == 1 else 'Benign'

    return render_template('result.html', prediction = result)


if __name__ == '__main__':
    app.run(debug = True)
